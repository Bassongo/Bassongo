<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Plateforme de vote ENSAE</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: url("assets/images/OIP.jpeg") no-repeat center center fixed;
      background-size: cover;
      color: #ffffff;
      text-align: center;
      position: relative;
    }

    body::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: 0;
    }

    .container {
      position: relative;
      z-index: 1;
    }

    nav {
      background-color: rgba(0, 83, 156, 0.85);
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      padding: 10px;
      gap: 10px;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    nav button {
      background-color: #dbefff;
      color: #003b6f;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    nav button:hover {
      background-color: #b2d9ff;
    }

    #intro {
      padding: 60px 20px 20px;
    }

    #intro h1 {
      font-size: 2.5em;
      text-shadow: 2px 2px 4px #000;
    }

    .intro-img {
      max-width: 400px;
      width: 90%;
      border-radius: 10px;
      box-shadow: 0 0 10px #000;
      margin: 20px 0;
    }

    .slogan {
      font-size: 1.6em;
      font-weight: bold;
      text-shadow: 2px 2px 4px #000;
    }

    .slogan2 {
      font-size: 1.3em;
      margin-top: 10px;
      color: #dbefff;
      text-shadow: 1px 1px 3px #000;
    }

    /* Styles pour les modaux */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 100;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background-color: #fff;
      padding: 30px;
      border-radius: 10px;
      width: 90%;
      max-width: 500px;
      color: #003b6f;
      position: relative;
    }

    .close-btn {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 24px;
      cursor: pointer;
      color: #003b6f;
    }

    .form-group {
      margin-bottom: 15px;
      text-align: left;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }

    .form-group input, 
    .form-group select, 
    .form-group textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
    }

    .form-actions {
      margin-top: 20px;
      display: flex;
      justify-content: space-between;
    }

    .form-actions button {
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }

    .primary-btn {
      background-color: #003b6f;
      color: white;
    }

    .secondary-btn {
      background-color: #ccc;
      color: #333;
    }

    #accueil {
      padding: 40px 20px;
    }

    .content {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      text-align: left;
    }

    .section {
      flex: 1 1 400px;
      max-width: 600px;
      background-color: rgba(0, 0, 0, 0.55);
      border-radius: 12px;
      padding: 25px;
      margin: 10px;
    }

    .section h3 {
      font-size: 1.4em;
      color: #a7d4ff;
    }

    ul {
      list-style: none;
      padding-left: 0;
    }

    li {
      margin: 10px 0;
      font-size: 1em;
    }

    li::before {
      content: "‚úîÔ∏è ";
      margin-right: 6px;
    }

    .highlight {
      font-size: 1.8em;
      font-weight: 700;
      margin: 40px auto;
      background-color: rgba(0, 0, 0, 0.6);
      padding: 15px;
      border-radius: 8px;
      width: fit-content;
      text-shadow: 2px 2px 5px #000;
    }

    /* Styles pour la page de candidature */
    .election-filters {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin: 20px 0;
    }

    .election-filters button {
      background-color: #dbefff;
      color: #003b6f;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
    }

    .candidature-actions {
      margin-top: 30px;
    }

    .candidature-actions button {
      margin: 0 10px;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }

    /* Styles pour la page "Mes candidatures" */
    #mesCandidaturesPage {
      display: none;
      padding: 40px 20px;
    }

    .candidatures-list {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
    }

    .candidature-card {
      background-color: rgba(255, 255, 255, 0.9);
      border-radius: 10px;
      padding: 20px;
      width: 300px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      color: #003b6f;
      text-align: left;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .candidature-card:hover {
      transform: translateY(-5px);
    }

    .candidature-photo {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 5px;
      margin-bottom: 15px;
    }

    .candidature-title {
      font-size: 1.2em;
      font-weight: bold;
      margin-bottom: 10px;
      color: #003b6f;
    }

    .candidature-type {
      display: inline-block;
      background-color: #003b6f;
      color: white;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 0.8em;
      margin-bottom: 10px;
    }

    .candidature-details {
      font-size: 0.9em;
      margin-bottom: 10px;
    }

    .candidature-programme {
      font-size: 0.9em;
      max-height: 100px;
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-line-clamp: 4;
      -webkit-box-orient: vertical;
    }

    /* Modal de d√©tails de candidature */
    #candidatureDetailModal .modal-content {
      max-width: 700px;
    }

    .detail-header {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }

    .detail-photo {
      width: 150px;
      height: 150px;
      object-fit: cover;
      border-radius: 50%;
      margin-right: 20px;
    }

    .detail-info h3 {
      margin: 0;
      font-size: 1.5em;
      color: #003b6f;
    }

    .detail-type {
      background-color: #003b6f;
      color: white;
      padding: 3px 8px;
      border-radius: 4px;
      font-size: 0.9em;
      margin-top: 5px;
      display: inline-block;
    }

    .detail-programme {
      background-color: #f5f5f5;
      padding: 15px;
      border-radius: 5px;
      margin-top: 20px;
    }

    .detail-programme h4 {
      margin-top: 0;
      color: #003b6f;
    }

    @media (max-width: 768px) {
      .content {
        flex-direction: column;
        align-items: center;
      }

      .detail-header {
        flex-direction: column;
        text-align: center;
      }

      .detail-photo {
        margin-right: 0;
        margin-bottom: 15px;
      }
    }
  </style>
</head>
<body>

  <div class="container">
    <nav>
      <button id="accueilBtn">Accueil</button>
      <button id="candidatBtn">Inscription candidat</button>
      <button id="campagneBtn">Campagne</button>
      <button id="voterBtn">Voter</button>
      <button id="statsBtn">Statistiques</button>
      <button id="profilBtn">Moi</button>
      <button id="loginBtn">Se connecter</button>
    </nav>

    <div id="intro">
      <h1>Le Choix des √âl√®ves</h1>
      <img src="assets/images/OIP.jpeg" alt="ENSAE Building" class="intro-img" />
      <div class="slogan">EXPRIMEZ VOUS FAITES LA DIFFERENCE</div>
      <div class="slogan2">L'ENSAE vote, ENSAE avance</div>
    </div>

    <!-- Page d'accueil -->
    <div id="accueil">
      <h1>Bienvenue sur la plateforme de vote de l'ENSAE !!</h1>
      <h2>Un outil moderne s√©curis√© et transparent pour g√©rer les √©lections au sein de l'√©cole</h2>

      <div class="content">
        <div class="section">
          <h3>üéØ Objectifs :</h3>
          <ul>
            <li>Permettre aux candidats de s'inscrire en ligne.</li>
            <li>G√©rer les √©lecteurs et le comit√© organisationnel.</li>
            <li>Assurer des votes anonymes, fiables et transparents.</li>
            <li>G√©n√©rer automatiquement les r√©sultats et statistiques.</li>
          </ul>
        </div>

        <div class="section">
          <h3>üó≥Ô∏è Phases cl√©s du processus √©lectoral</h3>
          <ul>
            <li>Inscription des candidats (formulaire en ligne + lien s√©curis√©).</li>
            <li>Campagne √©lectorale (consultation libre des profils candidats).</li>
            <li>Vote (connexion s√©curis√©e + limitation √† un seul vote/poste).</li>
            <li>Cl√¥ture et r√©sultats (automatis√©s avec stats : sexe, classe, etc).</li>
          </ul>
        </div>
      </div>

      <div class="highlight">EXPRIMEZ VOUS FAITES LA DIFFERENCE</div>
    </div>

    <!-- Page d'inscription candidat -->
    <div id="candidatPage" style="display: none; padding: 40px 20px;">
      <h1>Cr√©er une candidature</h1>
      
      <div class="election-filters">
        <h2>Filtrer par √©lection</h2>
        <button id="aesBtn">AES</button>
        <button id="clubBtn">CLUB</button>
        <button id="classeBtn">CLASSE</button>
        <button id="candidaterBtn">Candidater</button>
      </div>

      <div id="candidatureForm" style="display: none;">
        <form id="newCandidature">
          <div class="form-group">
            <label for="electionType">Type d'√©lection:</label>
            <input type="text" id="electionType" readonly>
          </div>
          <div class="form-group">
            <label for="nom">Nom:</label>
            <input type="text" id="nom" required>
          </div>
          <div class="form-group">
            <label for="prenom">Pr√©nom:</label>
            <input type="text" id="prenom" required>
          </div>
          <div class="form-group">
          <label for="classe">Classe:</label>
            <select id="classe" required>
              <option value="">-- S√©lectionnez une classe --</option>
              <option value="AS1">AS1</option>
              <option value="AS2">AS2</option>
              <option value="AS3">AS3</option>
              <option value="ISE1_ECO">ISE1_ECO</option>
              <option value="ISE1_MATH">ISE1_MATH</option>
              <option value="ISE2">ISE2</option>
              <option value="ISE3">ISE3</option>
              <option value="ISEP1">ISEP1</option>
              <option value="ISEP2">ISEP2</option>
              <option value="ISEP3">ISEP3</option>
            </select>
          </div>
          <div class="form-group">
          <label for="poste">Poste:</label>
          <select id="poste" required>
            <option value="">-- S√©lectionnez un poste --</option>
            <option value="Pr√©sidence">Pr√©sidence</option>
            <option value="Tr√©sorerie">Tr√©sorerie</option>
            <option value="Communication">Charg√© √† la communication</option>
          </select>
          </div>
          <div class="form-group">
            <label for="programme">R√©sum√© du programme √©lectoral:</label>
            <textarea id="programme" rows="5" required></textarea>
          </div>
          <div class="form-group">
            <label for="photo">Photo de profil:</label>
            <input type="file" id="photo" accept="image/*">
          </div>
        </form>

        <div class="candidature-actions">
          <button id="mesCandidaturesBtn">Mes candidatures</button>
          <button id="validerCandidatureBtn" class="primary-btn">Valider</button>
          <button id="retourCandidatureBtn" class="secondary-btn">Retour</button>
        </div>
      </div>
    </div>

    <!-- Page "Mes candidatures" -->
    <div id="mesCandidaturesPage" style="display: none; padding: 40px 20px;">
      <h1>Mes candidatures</h1>
      <p>Retrouvez ici toutes les candidatures que vous avez soumises</p>
      
      <div class="candidatures-list" id="candidaturesList">
        <!-- Les candidatures seront ajout√©es ici dynamiquement -->
      </div>
      
      <div style="margin-top: 20px;">
        <button id="retourDepuisMesCandidaturesBtn" class="secondary-btn">Retour</button>
      </div>
    </div>

    <!-- Modal de connexion -->
    <div id="loginModal" class="modal">
      <div class="modal-content">
        <span class="close-btn" id="closeLogin">&times;</span>
        <h2>Se connecter</h2>
        <form id="loginForm">
          <div class="form-group">
            <label for="loginEmail">Adresse email:</label>
            <input type="email" id="loginEmail" required>
          </div>
          <div class="form-group">
            <label for="loginPassword">Mot de passe:</label>
            <input type="password" id="loginPassword" required>
          </div>
          <div class="form-actions">
            <button type="button" class="secondary-btn" id="cancelLogin">Retour</button>
            <button type="submit" class="primary-btn">Se connecter</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal de d√©tails de candidature -->
    <div id="candidatureDetailModal" class="modal">
      <div class="modal-content">
        <span class="close-btn" id="closeDetailModal">&times;</span>
        <div class="detail-header">
          <img id="detailPhoto" class="detail-photo" src="" alt="Photo du candidat">
          <div class="detail-info">
            <h3 id="detailNom"></h3>
            <div class="detail-type" id="detailType"></div>
            <p id="detailClasse"></p>
          </div>
        </div>
        <div class="detail-programme">
          <h4>Programme √©lectoral</h4>
          <p id="detailProgramme"></p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Stockage des candidatures (simulation d'une base de donn√©es)
    let candidatures = JSON.parse(localStorage.getItem('candidatures')) || [];

    document.addEventListener("DOMContentLoaded", function () {
      // √âl√©ments de la page
      const accueilBtn = document.getElementById("accueilBtn");
      const candidatBtn = document.getElementById("candidatBtn");
      const accueilPage = document.getElementById("accueil");
      const candidatPage = document.getElementById("candidatPage");
      const mesCandidaturesPage = document.getElementById("mesCandidaturesPage");
      const candidatureForm = document.getElementById("candidatureForm");
      const candidaturesList = document.getElementById("candidaturesList");
      
      // Boutons de filtrage des √©lections
      const aesBtn = document.getElementById("aesBtn");
      const clubBtn = document.getElementById("clubBtn");
      const classeBtn = document.getElementById("classeBtn");
      const candidaterBtn = document.getElementById("candidaterBtn");
      
      // Boutons d'actions de candidature
      const mesCandidaturesBtn = document.getElementById("mesCandidaturesBtn");
      const validerCandidatureBtn = document.getElementById("validerCandidatureBtn");
      const retourCandidatureBtn = document.getElementById("retourCandidatureBtn");
      const retourDepuisMesCandidaturesBtn = document.getElementById("retourDepuisMesCandidaturesBtn");
      
      // Gestion de la navigation
      accueilBtn.addEventListener("click", function() {
        showPage("accueil");
      });
      
      candidatBtn.addEventListener("click", function() {
        showPage("candidat");
      });
      
      // Gestion du bouton "Mes candidatures" dans le formulaire
      mesCandidaturesBtn.addEventListener("click", function() {
        showPage("mesCandidatures");
        displayCandidatures();
      });
      
      // Bouton de retour depuis la page "Mes candidatures"
      retourDepuisMesCandidaturesBtn.addEventListener("click", function() {
        showPage("candidat");
      });
      
      // Fonction pour afficher une page sp√©cifique
      function showPage(page) {
        accueilPage.style.display = "none";
        candidatPage.style.display = "none";
        mesCandidaturesPage.style.display = "none";
        
        if (page === "accueil") {
          accueilPage.style.display = "block";
        } else if (page === "candidat") {
          candidatPage.style.display = "block";
        } else if (page === "mesCandidatures") {
          mesCandidaturesPage.style.display = "block";
        }
      }
      
      // Gestion des boutons de filtrage
      aesBtn.addEventListener("click", function() {
        showCandidatureForm("AES");
      });
      
      clubBtn.addEventListener("click", function() {
        showCandidatureForm("CLUB");
      });
      
      classeBtn.addEventListener("click", function() {
        showCandidatureForm("CLASSE");
      });
      
      candidaterBtn.addEventListener("click", function() {
        alert("Veuillez d'abord s√©lectionner un type d'√©lection (AES, CLUB ou CLASSE)");
      });
      
      // Boutons d'actions
      validerCandidatureBtn.addEventListener("click", function() {
        if (validateCandidatureForm()) {
          saveCandidature();
          alert("Candidature soumise avec succ√®s!");
          resetCandidatureForm();
          // Rediriger vers "Mes candidatures" apr√®s soumission
          showPage("mesCandidatures");
          displayCandidatures();
        }
      });
      
      retourCandidatureBtn.addEventListener("click", function() {
        resetCandidatureForm();
      });
      
      // Fonction pour afficher le formulaire de candidature
      function showCandidatureForm(type) {
        document.getElementById("electionType").value = type;
        candidatureForm.style.display = "block";
      }
      
      // Fonction pour valider le formulaire
      function validateCandidatureForm() {
        const nom = document.getElementById("nom").value;
        const prenom = document.getElementById("prenom").value;
        const classe = document.getElementById("classe").value;
        const poste = document.getElementById("poste").value;
        const programme = document.getElementById("programme").value;
        
        if (!nom || !prenom || !classe || !poste || !programme) {
          alert("Veuillez remplir tous les champs obligatoires");
          return false;
        }
        return true;
      }
      
      // Fonction pour sauvegarder la candidature
      function saveCandidature() {
        const photoInput = document.getElementById("photo");
        let photoUrl = "";
        
        if (photoInput.files && photoInput.files[0]) {
          // Dans un environnement r√©el, il faudrait uploader l'image vers un serveur
          // Ici on utilise un URL temporaire pour la d√©monstration
          photoUrl = URL.createObjectURL(photoInput.files[0]);
        }
        
        const newCandidature = {
          id: Date.now(),
          type: document.getElementById("electionType").value,
          nom: document.getElementById("nom").value,
          prenom: document.getElementById("prenom").value,
          classe: document.getElementById("classe").value,
          poste: document.getElementById("poste").value,
          programme: document.getElementById("programme").value,
          photo: photoUrl,
          date: new Date().toLocaleDateString()
        };
        
        candidatures.push(newCandidature);
        localStorage.setItem('candidatures', JSON.stringify(candidatures));
      }
      
      // Fonction pour r√©initialiser le formulaire
      function resetCandidatureForm() {
        document.getElementById("newCandidature").reset();
        candidatureForm.style.display = "none";
      }
      
      // Fonction pour afficher les candidatures
      function displayCandidatures() {
        candidaturesList.innerHTML = "";
        
        if (candidatures.length === 0) {
          candidaturesList.innerHTML = "<p>Aucune candidature soumise pour le moment.</p>";
          return;
        }
        
        candidatures.forEach(candidature => {
          const card = document.createElement("div");
          card.className = "candidature-card";
          card.innerHTML = `
            ${candidature.photo ? `<img src="${candidature.photo}" class="candidature-photo" alt="Photo de profil">` : ''}
            <div class="candidature-title">${candidature.prenom} ${candidature.nom}</div>
            <div class="candidature-type">${candidature.type} - ${candidature.poste || 'Non sp√©cifi√©'}</div>
            <div class="candidature-details">${candidature.classe} ‚Ä¢ ${candidature.date}</div>
            <div class="candidature-programme">${candidature.programme}</div>
          `;
          
          card.addEventListener("click", () => showCandidatureDetail(candidature));
          candidaturesList.appendChild(card);
        });
      }
      
      // Fonction pour afficher les d√©tails d'une candidature
      function showCandidatureDetail(candidature) {
        document.getElementById("detailNom").textContent = `${candidature.prenom} ${candidature.nom}`;
        document.getElementById("detailType").textContent = `${candidature.type} - ${candidature.poste || 'Non sp√©cifi√©'}`;
        document.getElementById("detailClasse").textContent = candidature.classe;
        document.getElementById("detailProgramme").textContent = candidature.programme;
        
        const detailPhoto = document.getElementById("detailPhoto");
        if (candidature.photo) {
          detailPhoto.src = candidature.photo;
          detailPhoto.style.display = "block";
        } else {
          detailPhoto.style.display = "none";
        }
        
        document.getElementById("candidatureDetailModal").style.display = "flex";
      }
      
      // Fermer le modal de d√©tails
      document.getElementById("closeDetailModal").addEventListener("click", function() {
        document.getElementById("candidatureDetailModal").style.display = "none";
      });
      
      // Gestion du modal de connexion
      const loginBtn = document.getElementById("loginBtn");
      const loginModal = document.getElementById("loginModal");
      const closeLogin = document.getElementById("closeLogin");
      const cancelLogin = document.getElementById("cancelLogin");
      
      loginBtn.addEventListener("click", function() {
        loginModal.style.display = "flex";
      });
      
      closeLogin.addEventListener("click", function() {
        loginModal.style.display = "none";
      });
      
      cancelLogin.addEventListener("click", function() {
        loginModal.style.display = "none";
      });
      
      window.addEventListener("click", function(event) {
        if (event.target === loginModal) {
          loginModal.style.display = "none";
        }
        if (event.target === document.getElementById("candidatureDetailModal")) {
          document.getElementById("candidatureDetailModal").style.display = "none";
        }
      });
      
      document.getElementById("loginForm").addEventListener("submit", function(e) {
        e.preventDefault();
        alert("Connexion r√©ussie!");
        loginModal.style.display = "none";
      });
      
      // Initialiser la page d'accueil au chargement
      showPage("accueil");
    });
  </script>
</body>
</html>